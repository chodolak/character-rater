webpackJsonp([10],{"1YSl":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-nav"),e._v(" "),e._t("outside"),e._v(" "),a("div",{staticClass:"container pt-4"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col col-12"},[e._t("default")],2)])])],2)},s=[],i={render:n,staticRenderFns:s};t.a=i},"3hsQ":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a("ao7l"),i=n(s),r=a("j+XE"),o=n(r),l=a("HhAh"),c=n(l),u=a("kBYy"),d=n(u);t.default={name:"shows-characters-index",data:function(){return{characters:[],page:1,totalPages:1,searchParams:{name:""},selectedShow:null,searchArray:[],query:{},show:{}}},beforeRouteEnter:function(e,t,a){var n={},s=1;e.query.name&&(n.name=e.query.name),e.query.show&&(n.show=e.query.show),e.query.p&&(s=e.query.p),(new o.default).getCharactersByShow(e.params.name,s,n).then(function(t){a(function(a){return a.setUpVariables(e.query,t)})})},methods:{setUpVariables:function(e,t){e.p&&(this.page=e.p),e.name&&(this.searchParams.name=e.name),t.characters.data.forEach(function(e){e.average_rating?e.average_rating=parseFloat(e.average_rating).toFixed(2):e.average_rating=0,e.image="https://api.chodolak.com"+e.image,e.thumbnail="https://api.chodolak.com"+e.thumbnail}),this.characters=t.characters.data,t.show.image="https://api.chodolak.com"+t.show.image,this.show=t.show,this.page=t.characters.current_page-1,this.totalPages=t.characters.last_page,this.setUpQuery()},getCharacters:function(e){var t=this;(new o.default).getCharactersByShow(this.$route.params.name,e,this.searchParams).then(function(e){e.characters.data.forEach(function(e){e.average_rating?e.average_rating=parseFloat(e.average_rating).toFixed(2):e.average_rating=0,e.image="https://api.chodolak.com"+e.image,e.thumbnail="https://api.chodolak.com"+e.thumbnail}),t.characters=e.characters.data,t.page=e.characters.current_page-1,t.totalPages=e.characters.last_page,t.setUpQuery()})},setUpQuery:function(){this.query={},0!==this.page&&(this.query.p=this.page+1),this.searchParams.name&&(this.query.name=this.searchParams.name),this.$router.replace({query:this.query})},pageClick:function(e){this.page=e,this.getCharacters(e)},search:(0,c.default)(function(){this.page=0,this.getCharacters(1)},500)},components:{VLayout:i.default,Paginate:d.default}}},Gdi1:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("3hsQ"),s=a.n(n),i=a("yIID"),r=a("VU/8"),o=r(s.a,i.a,!1,null,null,null);t.default=o.exports},HhAh:function(e,t){e.exports=function(e,t,a){function n(){var c=Date.now()-o;c<t&&c>=0?s=setTimeout(n,t-c):(s=null,a||(l=e.apply(r,i),r=i=null))}var s,i,r,o,l;null==t&&(t=100);var c=function(){r=this,i=arguments,o=Date.now();var c=a&&!s;return s||(s=setTimeout(n,t)),c&&(l=e.apply(r,i),r=i=null),l};return c.clear=function(){s&&(clearTimeout(s),s=null)},c.flush=function(){s&&(l=e.apply(r,i),r=i=null,clearTimeout(s),s=null)},c}},Q6FB:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"nav",data:function(){return{menuCollapsed:!1}},methods:{logout:function(){this.$store.dispatch("auth/logout")},toggleMenu:function(){this.menuCollapsed=!this.menuCollapsed}}}},ao7l:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("nZvO"),s=a.n(n),i=a("1YSl"),r=a("VU/8"),o=r(s.a,i.a,!1,null,null,null);t.default=o.exports},"j+XE":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a("Zx67"),i=n(s),r=a("Zrlr"),o=n(r),l=a("wxAW"),c=n(l),u=a("zwoO"),d=n(u),h=a("Pf15"),p=n(h),v=a("dP9K"),f=n(v),g=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.default)(this,t),(0,d.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e))}return(0,p.default)(t,e),(0,c.default)(t,[{key:"upload",value:function(e){var t={name:e.name,bio:e.bio,show:e.show.value,fileName:e.fileName,image:e.image,thumbnail:e.thumbnail};return this.submit("post",this.endpoint+"/admin/character/upload",t)}},{key:"get",value:function(e,t){var a="?page="+e;return t.name&&(a+="&name="+t.name),t.show&&(a+="&show="+t.show),this.submit("get",this.endpoint+"/characters"+a)}},{key:"getById",value:function(e){return this.submit("get",this.endpoint+"/characters/id/"+e)}},{key:"getByShowCharacter",value:function(e,t){return this.submit("get",this.endpoint+"/characters/"+e+"/"+t)}},{key:"getCharactersByShow",value:function(e,t,a){var n="?page="+t;return a.name&&(n+="&name="+a.name),a.show&&(n+="&show="+a.show),this.submit("get",this.endpoint+"/characters/show/"+e+n)}},{key:"update",value:function(e,t,a,n){var s={name:t.name,bio:t.bio,show:t.show,fileName:t.fileName,image:t.image,thumbnail:t.thumbnail};return a&&delete s.image,n&&delete s.thumbnail,s.show&&(s.show=s.show.value),this.submit("put",this.endpoint+"/admin/character/"+e,s)}},{key:"createRating",value:function(e){return this.submit("post",this.endpoint+"/rate",e)}},{key:"updateRating",value:function(e,t,a){return this.submit("put",this.endpoint+"/rate/"+e+"/"+t,a)}},{key:"delete",value:function(e){return this.submit("delete",this.endpoint+"/admin/character/"+e)}}]),t}(f.default);t.default=g},kBYy:function(e,t,a){!function(t,a){e.exports=a()}(0,function(){return function(e){function t(n){if(a[n])return a[n].exports;var s=a[n]={exports:{},id:n,loaded:!1};return e[n].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";var n=a(1),s=function(e){return e&&e.__esModule?e:{default:e}}(n);e.exports=s.default},function(e,t,a){a(2);var n=a(6)(a(7),a(8),"data-v-82963a40",null);e.exports=n.exports},function(e,t,a){var n=a(3);"string"==typeof n&&(n=[[e.id,n,""]]),a(5)(n,{}),n.locals&&(e.exports=n.locals)},function(e,t,a){t=e.exports=a(4)(),t.push([e.id,"a[data-v-82963a40]{cursor:pointer}",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var a=this[t];a[2]?e.push("@media "+a[2]+"{"+a[1]+"}"):e.push(a[1])}return e.join("")},e.i=function(t,a){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},s=0;s<this.length;s++){var i=this[s][0];"number"==typeof i&&(n[i]=!0)}for(s=0;s<t.length;s++){var r=t[s];"number"==typeof r[0]&&n[r[0]]||(a&&!r[2]?r[2]=a:a&&(r[2]="("+r[2]+") and ("+a+")"),e.push(r))}},e}},function(e,t,a){function n(e,t){for(var a=0;a<e.length;a++){var n=e[a],s=d[n.id];if(s){s.refs++;for(var i=0;i<s.parts.length;i++)s.parts[i](n.parts[i]);for(;i<n.parts.length;i++)s.parts.push(l(n.parts[i],t))}else{for(var r=[],i=0;i<n.parts.length;i++)r.push(l(n.parts[i],t));d[n.id]={id:n.id,refs:1,parts:r}}}}function s(e){for(var t=[],a={},n=0;n<e.length;n++){var s=e[n],i=s[0],r=s[1],o=s[2],l=s[3],c={css:r,media:o,sourceMap:l};a[i]?a[i].parts.push(c):t.push(a[i]={id:i,parts:[c]})}return t}function i(e,t){var a=v(),n=m[m.length-1];if("top"===e.insertAt)n?n.nextSibling?a.insertBefore(t,n.nextSibling):a.appendChild(t):a.insertBefore(t,a.firstChild),m.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");a.appendChild(t)}}function r(e){e.parentNode.removeChild(e);var t=m.indexOf(e);t>=0&&m.splice(t,1)}function o(e){var t=document.createElement("style");return t.type="text/css",i(e,t),t}function l(e,t){var a,n,s;if(t.singleton){var i=g++;a=f||(f=o(t)),n=c.bind(null,a,i,!1),s=c.bind(null,a,i,!0)}else a=o(t),n=u.bind(null,a),s=function(){r(a)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else s()}}function c(e,t,a,n){var s=a?"":n.css;if(e.styleSheet)e.styleSheet.cssText=_(t,s);else{var i=document.createTextNode(s),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(i,r[t]):e.appendChild(i)}}function u(e,t){var a=t.css,n=t.media,s=t.sourceMap;if(n&&e.setAttribute("media",n),s&&(a+="\n/*# sourceURL="+s.sources[0]+" */",a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}var d={},h=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},p=h(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),v=h(function(){return document.head||document.getElementsByTagName("head")[0]}),f=null,g=0,m=[];e.exports=function(e,t){t=t||{},void 0===t.singleton&&(t.singleton=p()),void 0===t.insertAt&&(t.insertAt="bottom");var a=s(e);return n(a,t),function(e){for(var i=[],r=0;r<a.length;r++){var o=a[r],l=d[o.id];l.refs--,i.push(l)}if(e){n(s(e),t)}for(var r=0;r<i.length;r++){var l=i[r];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete d[l.id]}}}};var _=function(){var e=[];return function(t,a){return e[t]=a,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e,t,a,n){var s,i=e=e||{},r=typeof e.default;"object"!==r&&"function"!==r||(s=e,i=e.default);var o="function"==typeof i?i.options:i;if(t&&(o.render=t.render,o.staticRenderFns=t.staticRenderFns),a&&(o._scopeId=a),n){var l=o.computed||(o.computed={});Object.keys(n).forEach(function(e){var t=n[e];l[e]=function(){return t}})}return{esModule:s,exports:i,options:o}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{pageCount:{type:Number,required:!0},initialPage:{type:Number,default:0},forcePage:{type:Number},clickHandler:{type:Function,default:function(){}},pageRange:{type:Number,default:3},marginPages:{type:Number,default:1},prevText:{type:String,default:"Prev"},nextText:{type:String,default:"Next"},containerClass:{type:String},pageClass:{type:String},pageLinkClass:{type:String},prevClass:{type:String},prevLinkClass:{type:String},nextClass:{type:String},nextLinkClass:{type:String},activeClass:{type:String,default:"active"},noLiSurround:{type:Boolean,default:!1}},data:function(){return{selected:this.initialPage}},beforeUpdate:function(){void 0!==this.forcePage&&this.forcePage!==this.selected&&(this.selected=this.forcePage)},computed:{pages:function(){var e=this,t={};if(this.pageCount<=this.pageRange)for(var a=0;a<this.pageCount;a++){var n={index:a,content:a+1,selected:a===this.selected};t[a]=n}else{var s=this.pageRange/2,i=this.pageRange-s;this.selected<s?(s=this.selected,i=this.pageRange-s):this.selected>this.pageCount-this.pageRange/2&&(i=this.pageCount-this.selected,s=this.pageRange-i);for(var r=function(a){var n={index:a,content:a+1,selected:a===e.selected};t[a]=n},o=function(e){var a={content:"...",disabled:!0};t[e]=a},l=0;l<this.marginPages;l++)r(l);var c=0;this.selected-this.pageRange>0&&(c=this.selected-this.pageRange);var u=this.pageCount;this.selected+this.pageRange<this.pageCount&&(u=this.selected+this.pageRange);for(var d=c;d<=u&&d<=this.pageCount-1;d++)r(d);c>this.marginPages&&o(c-1),u+1<this.pageCount-this.marginPages&&o(u+1);for(var h=this.pageCount-1;h>=this.pageCount-this.marginPages;h--)r(h)}return t}},methods:{handlePageSelected:function(e){this.selected!==e&&(this.selected=e,this.clickHandler(this.selected+1))},prevPage:function(){this.selected<=0||(this.selected--,this.clickHandler(this.selected+1))},nextPage:function(){this.selected>=this.pageCount-1||(this.selected++,this.clickHandler(this.selected+1))},firstPageSelected:function(){return 0===this.selected},lastPageSelected:function(){return this.selected===this.pageCount-1||0===this.pageCount}}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.noLiSurround?a("div",{class:e.containerClass},[a("a",{class:[e.prevLinkClass,{disabled:e.firstPageSelected()}],attrs:{tabindex:"0"},on:{click:function(t){e.prevPage()},keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13)?void e.prevPage():null}}},[e._t("prevContent",[e._v(e._s(e.prevText))])],2),e._v(" "),e._l(e.pages,function(t){return[t.disabled?a("a",{class:[e.pageLinkClass,t.selected?e.activeClass:"",{disabled:t.disabled}],attrs:{tabindex:"0"}},[e._v(e._s(t.content))]):a("a",{class:[e.pageLinkClass,{active:t.selected,disabled:t.disabled}],attrs:{tabindex:"0"},on:{click:function(a){e.handlePageSelected(t.index)},keyup:function(a){return"button"in a||!e._k(a.keyCode,"enter",13)?void e.handlePageSelected(t.index):null}}},[e._v("\n      "+e._s(t.content)+"\n    ")])]}),e._v(" "),a("a",{class:[e.nextLinkClass,{disabled:e.lastPageSelected()}],attrs:{tabindex:"0"},on:{click:function(t){e.nextPage()},keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13)?void e.nextPage():null}}},[e._t("nextContent",[e._v(e._s(e.nextText))])],2)],2):a("ul",{class:e.containerClass},[a("li",{class:[e.prevClass,{disabled:e.firstPageSelected()}]},[a("a",{class:e.prevLinkClass,attrs:{tabindex:"0"},on:{click:function(t){e.prevPage()},keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13)?void e.prevPage():null}}},[e._t("prevContent",[e._v(e._s(e.prevText))])],2)]),e._v(" "),e._l(e.pages,function(t){return a("li",{class:[e.pageClass,t.selected?e.activeClass:"",{disabled:t.disabled}]},[t.disabled?a("a",{class:e.pageLinkClass,attrs:{tabindex:"0"}},[e._v(e._s(t.content))]):a("a",{class:e.pageLinkClass,attrs:{tabindex:"0"},on:{click:function(a){e.handlePageSelected(t.index)},keyup:function(a){return"button"in a||!e._k(a.keyCode,"enter",13)?void e.handlePageSelected(t.index):null}}},[e._v(e._s(t.content))])])}),e._v(" "),a("li",{class:[e.nextClass,{disabled:e.lastPageSelected()}]},[a("a",{class:e.nextLinkClass,attrs:{tabindex:"0"},on:{click:function(t){e.nextPage()},keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13)?void e.nextPage():null}}},[e._t("nextContent",[e._v(e._s(e.nextText))])],2)])],2)},staticRenderFns:[]}}])})},nZvO:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("uL8o"),s=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"default-layout",components:{VNav:s.default}}},ntB4:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",{staticClass:"navbar navbar-expand-lg navbar-dark"},[a("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"home.index"}}},[e._v("\n    Chodolak Character Rater\n  ")]),e._v(" "),a("button",{staticClass:"navbar-toggler",attrs:{type:"button"},on:{click:e.toggleMenu}},[a("span",{staticClass:"navbar-toggler-icon"})]),e._v(" "),a("div",{staticClass:"collapse navbar-collapse",class:{show:e.menuCollapsed}},[a("ul",{staticClass:"navbar-nav"},[a("router-link",{staticClass:"nav-item",attrs:{to:{name:"shows.index"},"active-class":"active",tag:"li"}},[a("a",{staticClass:"nav-link"},[e._v("\n          Shows\n        ")])])],1),e._v(" "),a("ul",{staticClass:"navbar-nav mr-auto"},[e.$store.state.auth.admin?a("router-link",{staticClass:"nav-item",attrs:{to:{name:"admin.index"},"active-class":"active",tag:"li"}},[a("a",{staticClass:"nav-link"},[e._v("\n          Admin\n        ")])]):e._e()],1),e._v(" "),e.$store.state.auth.authenticated?a("span",{staticClass:"navbar-text"},[a("a",{staticClass:"btn btn-dark login-nav",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.logout(t)}}},[a("i",{staticClass:"fa fa-sign-out"})])]):e._e(),e._v(" "),e.$store.state.auth.authenticated?e._e():a("span",{staticClass:"navbar-text"},[a("router-link",{staticClass:"btn btn-dark login-nav",attrs:{to:{name:"login.index"},tag:"a"}},[e._v("\n          Login\n      ")])],1)])],1)},s=[],i={render:n,staticRenderFns:s};t.a=i},uL8o:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Q6FB"),s=a.n(n),i=a("ntB4"),r=a("VU/8"),o=r(s.a,i.a,!1,null,null,null);t.default=o.exports},yIID:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",[a("div",{staticClass:"media"},[e.show.image?a("img",{staticClass:"align-self-center mr-3",staticStyle:{width:"35%"},attrs:{src:e.show.image}}):e._e(),e._v(" "),a("div",{staticClass:"media-body"},[a("h5",{staticClass:"mt-0"},[e._v(e._s(e.show.name))]),e._v(" "),a("p",[e._v(e._s(e.show.bio))])])]),e._v(" "),a("div",{staticClass:"shows-page-header"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-3"},[a("h3",[e._v("Characters")])]),e._v(" "),a("div",{staticClass:"col-9 show-name-input"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.searchParams.name,expression:"searchParams.name"}],staticClass:"form-control",attrs:{name:"name",type:"text",placeholder:"Name"},domProps:{value:e.searchParams.name},on:{input:[function(t){t.target.composing||e.$set(e.searchParams,"name",t.target.value)},e.search]}})])])])])])]),e._v(" "),e._l(e.characters,function(t){return a("div",{key:t.id,staticClass:"container",staticStyle:{"padding-bottom":"15px"}},[a("router-link",{staticClass:"card show-card",attrs:{to:{name:"rate.index",params:{show:e.show.nameUrlSafe,character:t.nameUrlSafe}},tag:"div"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"card-img-bottom side-card-image",style:{"background-image":"url("+t.thumbnail+")"}})]),e._v(" "),a("div",{staticClass:"col-md-8"},[a("div",{staticClass:"card-block show-block"},[a("h4",{staticClass:"card-title"},[e._v(e._s(t.name))]),e._v(" "),a("p",{staticClass:"card-text"},[e._v(e._s(e._f("truncate")(t.bio,500,"...")))]),e._v(" "),a("div",[a("el-rate",{attrs:{disabled:"","show-score":"",colors:["#007bff","#0860a3","#043b65"],"text-color":"#0860a3","score-template":"{value} points"},model:{value:t.average_rating,callback:function(a){e.$set(t,"average_rating",a)},expression:"character.average_rating"}})],1)])])])])],1)}),e._v(" "),0==e.characters.length?a("div",{staticClass:"alert alert-primary"},[e._v("\n    No characters match right now!\n  ")]):e._e(),e._v(" "),e.characters.length>0?a("nav",[a("paginate",{attrs:{pageCount:e.totalPages,"initial-page":e.page,containerClass:"pagination",clickHandler:e.pageClick,"page-class":"page-item","page-link-class":"page-link","prev-class":"page-item","prev-link-class":"page-link","next-class":"page-item","next-link-class":"page-link"}})],1):e._e()],2)},s=[],i={render:n,staticRenderFns:s};t.a=i}});
//# sourceMappingURL=10.d6e28828679cd1a6a166.js.map